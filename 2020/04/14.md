# mardi 14 avril 2020

## Tasks

### Dfa_Ihm_Backend

- [ ] Pousser les modifications de la création, suppression d'Event
- [ ] Quelle est la commande pour le linter ?
- [ ] Comment recharger les données dans la base MongoDB ?
  - [ ] Est-ce correcte ? dans le README.md au paragraphe `Lancement`, `en mode developpement`, `Pour recharger les données de devs`

- [ ] Explication sur les tests, par exemple :
  - [ ] Dans event/event.model.ts,
    - [ ] "should be invalid if date is not a date"
    - [ ] Expliquer le `expect(err.errors.date)`

- [ ] Faire le plan de test sur l'ajout et la suppression des events
- [ ] Ajouter un fichier `event_mock.ts` dans `src/mocks` pour ajouter des données de dev dans la base

### Swagger

- [ ] Le model dfaOpcuaModule n'est pas bon :
  - [ ] dfaOpcuaObject <=> dfaOpcuaMObjectList
  - [ ] pas de dateSubscribed
  - [ ] pas de browsePathSubscribedListPrec
  - [ ] pas de dateSubscribedPrec
  - [ ] pas de nbMessagesPublished
  - [ ] pas de nbMessagesPublishedOld
  - [ ] pas de oldStatus
  - [ ] pas de subscriptionActive
- [ ] Définir dans le Swagger les attributs `username` et `password` de l'object MqttOptions
- [ ] [Documentation automatique du Swagger](https://github.com/Surnet/swagger-jsdoc/blob/master/docs/GETTING-STARTED.md)

## Notes

...

## ToDo

A faire lors du revue de code :

- Est-ce possible de :
  - faire un explode des interfaces IDfaOpcuaModule, ISite, ... dans des fichiers séparés /models/dfaOpcuaModule, /models/Site, ...
  - faire un explode de api/index.ts dans plusieurs fichiers /services/dfaOpcuaModule, /services/site, ...
- Peut-on renommer les attributs :
  - connexionstatus => connexionStatus
  - oldstatus => oldStatus
  - nbValuesEmmitted => nbValuesEmitted
  - nbEventsEmmitted => nbEventsEmitted
  - nbTablesHistoricalValuesEmmitted => nbTablesHistoricalValuesEmitted
